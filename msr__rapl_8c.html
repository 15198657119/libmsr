<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libmsr: src/msr_rapl.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmsr
   &#160;<span id="projectnumber">0.2.1</span>
   </div>
   <div id="projectbrief">A friendlier interface to accessing MSRs on Intel platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">msr_rapl.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;omp.h&gt;</code><br/>
<code>#include &lt;stddef.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;tgmath.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="msr__core_8h_source.html">msr_core.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memhdlr_8h_source.html">memhdlr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cpuid_8h_source.html">cpuid.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="msr__rapl_8h_source.html">msr_rapl.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="msr__turbo_8h_source.html">msr_turbo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="libmsr__error_8h_source.html">libmsr_error.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="libmsr__debug_8h_source.html">libmsr_debug.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for msr_rapl.c:</div>
<div class="dyncontent">
<div class="center"><img src="msr__rapl_8c__incl.png" border="0" usemap="#src_2msr__rapl_8c" alt=""/></div>
<map name="src_2msr__rapl_8c" id="src_2msr__rapl_8c">
<area shape="rect" id="node17" href="msr__core_8h.html" title="msr_core.h" alt="" coords="267,83,352,112"/><area shape="rect" id="node24" href="memhdlr_8h.html" title="memhdlr.h" alt="" coords="837,83,920,112"/><area shape="rect" id="node27" href="cpuid_8h.html" title="cpuid.h" alt="" coords="427,83,491,112"/><area shape="rect" id="node33" href="msr__rapl_8h.html" title="msr_rapl.h" alt="" coords="565,83,648,112"/><area shape="rect" id="node41" href="msr__turbo_8h.html" title="msr_turbo.h" alt="" coords="672,83,763,112"/><area shape="rect" id="node45" href="libmsr__error_8h.html" title="libmsr_error.h" alt="" coords="1040,83,1141,112"/><area shape="rect" id="node47" href="libmsr__debug_8h.html" title="libmsr_debug.h" alt="" coords="1165,83,1275,112"/><area shape="rect" id="node39" href="master_8h.html" title="master.h" alt="" coords="721,160,793,189"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a63c0eae91c8af418140de6edfc821fd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8">rapl_storage</a> (struct <a class="el" href="structrapl__data.html">rapl_data</a> **data, uint64_t **flags)</td></tr>
<tr class="memdesc:a63c0eae91c8af418140de6edfc821fd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the RAPL data and flags on the heap.  <a href="#a63c0eae91c8af418140de6edfc821fd8"></a><br/></td></tr>
<tr class="separator:a63c0eae91c8af418140de6edfc821fd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f054c4f99521150fd2d53e8b1b108b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#ac2f054c4f99521150fd2d53e8b1b108b">print_available_rapl</a> (void)</td></tr>
<tr class="memdesc:ac2f054c4f99521150fd2d53e8b1b108b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print available RAPL registers based on platform-dependent flags.  <a href="#ac2f054c4f99521150fd2d53e8b1b108b"></a><br/></td></tr>
<tr class="separator:ac2f054c4f99521150fd2d53e8b1b108b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4cf04e65243fe0ec3dc1f9b761bbd3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#ab4cf04e65243fe0ec3dc1f9b761bbd3e">rapl_init</a> (struct <a class="el" href="structrapl__data.html">rapl_data</a> **rapl, uint64_t **rapl_flags)</td></tr>
<tr class="memdesc:ab4cf04e65243fe0ec3dc1f9b761bbd3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize storage for Running Average Power Limit (RAPL) data and flags.  <a href="#ab4cf04e65243fe0ec3dc1f9b761bbd3e"></a><br/></td></tr>
<tr class="separator:ab4cf04e65243fe0ec3dc1f9b761bbd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c1b657d9ba392505b6773037653583"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a66c1b657d9ba392505b6773037653583">set_pkg_rapl_limit</a> (const unsigned socket, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit1, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit2)</td></tr>
<tr class="memdesc:a66c1b657d9ba392505b6773037653583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the steps necessary to set the user-supplied package-level power limit(s).  <a href="#a66c1b657d9ba392505b6773037653583"></a><br/></td></tr>
<tr class="separator:a66c1b657d9ba392505b6773037653583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34e79919aa8a8adb3e491d9677b7a5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#aa34e79919aa8a8adb3e491d9677b7a5f">set_dram_rapl_limit</a> (const unsigned socket, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit)</td></tr>
<tr class="memdesc:aa34e79919aa8a8adb3e491d9677b7a5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the steps necessary to set the user-supplied DRAM limit.  <a href="#aa34e79919aa8a8adb3e491d9677b7a5f"></a><br/></td></tr>
<tr class="separator:aa34e79919aa8a8adb3e491d9677b7a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b715562182e712ffe9a7abd3f84350"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#ae7b715562182e712ffe9a7abd3f84350">set_pp_rapl_limit</a> (const unsigned socket, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit0, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit1)</td></tr>
<tr class="memdesc:ae7b715562182e712ffe9a7abd3f84350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the steps necessary to set the user-supplied power plane limit.  <a href="#ae7b715562182e712ffe9a7abd3f84350"></a><br/></td></tr>
<tr class="separator:ae7b715562182e712ffe9a7abd3f84350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b9e4dea588a31d9d45328280ccd3a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#ac1b9e4dea588a31d9d45328280ccd3a7">get_rapl_power_info</a> (const unsigned socket, struct <a class="el" href="structrapl__power__info.html">rapl_power_info</a> *info)</td></tr>
<tr class="memdesc:ac1b9e4dea588a31d9d45328280ccd3a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get power info data for all RAPL power domains.  <a href="#ac1b9e4dea588a31d9d45328280ccd3a7"></a><br/></td></tr>
<tr class="separator:ac1b9e4dea588a31d9d45328280ccd3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69cb57b1b9bc69326f586337193088b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a69cb57b1b9bc69326f586337193088b3">set_pp_rapl_policies</a> (const unsigned socket, uint64_t *pp0, uint64_t *pp1)</td></tr>
<tr class="memdesc:a69cb57b1b9bc69326f586337193088b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the steps necessary to set the user-supplied power plane policy.  <a href="#a69cb57b1b9bc69326f586337193088b3"></a><br/></td></tr>
<tr class="separator:a69cb57b1b9bc69326f586337193088b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a002151a8d7e6161bb41c56b3eb99a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a75a002151a8d7e6161bb41c56b3eb99a">get_pp_rapl_policies</a> (const unsigned socket, uint64_t *pp0, uint64_t *pp1)</td></tr>
<tr class="memdesc:a75a002151a8d7e6161bb41c56b3eb99a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get RAPL policies for the power plane domains.  <a href="#a75a002151a8d7e6161bb41c56b3eb99a"></a><br/></td></tr>
<tr class="separator:a75a002151a8d7e6161bb41c56b3eb99a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f75af849c51cbaaec7a6f554b4b95b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a5f75af849c51cbaaec7a6f554b4b95b2">get_pkg_rapl_limit</a> (const unsigned socket, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit1, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit2)</td></tr>
<tr class="memdesc:a5f75af849c51cbaaec7a6f554b4b95b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get RAPL power limit for the package domain.  <a href="#a5f75af849c51cbaaec7a6f554b4b95b2"></a><br/></td></tr>
<tr class="separator:a5f75af849c51cbaaec7a6f554b4b95b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae811af0a09755e18a5e25a5e07b11cb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#ae811af0a09755e18a5e25a5e07b11cb8">get_dram_rapl_limit</a> (const unsigned socket, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit)</td></tr>
<tr class="memdesc:ae811af0a09755e18a5e25a5e07b11cb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get RAPL power limit for the DRAM domain.  <a href="#ae811af0a09755e18a5e25a5e07b11cb8"></a><br/></td></tr>
<tr class="separator:ae811af0a09755e18a5e25a5e07b11cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a076ac72b5de8b9bae9672925e8a0be9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a076ac72b5de8b9bae9672925e8a0be9f">get_pp_rapl_limit</a> (const unsigned socket, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit0, struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *limit1)</td></tr>
<tr class="memdesc:a076ac72b5de8b9bae9672925e8a0be9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get RAPL power limit for the power plane domains.  <a href="#a076ac72b5de8b9bae9672925e8a0be9f"></a><br/></td></tr>
<tr class="separator:a076ac72b5de8b9bae9672925e8a0be9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0c3e5ad4c0f888ae5db4c30c5b2092"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a8b0c3e5ad4c0f888ae5db4c30c5b2092">dump_rapl_limit</a> (struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *L, FILE *writedest)</td></tr>
<tr class="memdesc:a8b0c3e5ad4c0f888ae5db4c30c5b2092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out RAPL power limit.  <a href="#a8b0c3e5ad4c0f888ae5db4c30c5b2092"></a><br/></td></tr>
<tr class="separator:a8b0c3e5ad4c0f888ae5db4c30c5b2092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2149f5b42a9bacd4e846cf50b6968d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#ac2149f5b42a9bacd4e846cf50b6968d7">dump_rapl_data_terse_label</a> (FILE *writedest)</td></tr>
<tr class="memdesc:ac2149f5b42a9bacd4e846cf50b6968d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the label for the abbreviated RAPL data print out.  <a href="#ac2149f5b42a9bacd4e846cf50b6968d7"></a><br/></td></tr>
<tr class="separator:ac2149f5b42a9bacd4e846cf50b6968d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730ab2ba9f1f11a62e1bd689c562cb85"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a730ab2ba9f1f11a62e1bd689c562cb85">dump_rapl_data_terse</a> (FILE *writedest)</td></tr>
<tr class="memdesc:a730ab2ba9f1f11a62e1bd689c562cb85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print abbreviated RAPL data.  <a href="#a730ab2ba9f1f11a62e1bd689c562cb85"></a><br/></td></tr>
<tr class="separator:a730ab2ba9f1f11a62e1bd689c562cb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d2a40d68e49802b92b284c4b67e8a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#ad7d2a40d68e49802b92b284c4b67e8a7">dump_rapl_data</a> (FILE *writedest)</td></tr>
<tr class="memdesc:ad7d2a40d68e49802b92b284c4b67e8a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out a specified RAPL data item.  <a href="#ad7d2a40d68e49802b92b284c4b67e8a7"></a><br/></td></tr>
<tr class="separator:ad7d2a40d68e49802b92b284c4b67e8a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade923f6b707969f73a25d456724c4c66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#ade923f6b707969f73a25d456724c4c66">dump_rapl_power_info</a> (FILE *writedest)</td></tr>
<tr class="memdesc:ade923f6b707969f73a25d456724c4c66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out only RAPL power data.  <a href="#ade923f6b707969f73a25d456724c4c66"></a><br/></td></tr>
<tr class="separator:ade923f6b707969f73a25d456724c4c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015c7e6862b679545c2de6f6c130dc20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a015c7e6862b679545c2de6f6c130dc20">get_rapl_power_unit</a> (struct <a class="el" href="structrapl__units.html">rapl_units</a> *ru)</td></tr>
<tr class="memdesc:a015c7e6862b679545c2de6f6c130dc20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get units for RAPL power data.  <a href="#a015c7e6862b679545c2de6f6c130dc20"></a><br/></td></tr>
<tr class="separator:a015c7e6862b679545c2de6f6c130dc20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b6d075f97b80427547782b69014e87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#aa8b6d075f97b80427547782b69014e87">dump_rapl_power_unit</a> (FILE *writedest)</td></tr>
<tr class="memdesc:aa8b6d075f97b80427547782b69014e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out RAPL power units (power, energy, time).  <a href="#aa8b6d075f97b80427547782b69014e87"></a><br/></td></tr>
<tr class="separator:aa8b6d075f97b80427547782b69014e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b783164540feb4a332af617bc8ea8d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a7b783164540feb4a332af617bc8ea8d6">poll_rapl_data</a> (void)</td></tr>
<tr class="memdesc:a7b783164540feb4a332af617bc8ea8d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the current RAPL data and calculate the deltas from the previous call to this function.  <a href="#a7b783164540feb4a332af617bc8ea8d6"></a><br/></td></tr>
<tr class="separator:a7b783164540feb4a332af617bc8ea8d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25a1336e3c0987d087cee063ad11e09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#aa25a1336e3c0987d087cee063ad11e09">delta_rapl_data</a> (void)</td></tr>
<tr class="memdesc:aa25a1336e3c0987d087cee063ad11e09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check how much the RAPL data has changed overtime to derive time-based values, such as power.  <a href="#aa25a1336e3c0987d087cee063ad11e09"></a><br/></td></tr>
<tr class="separator:aa25a1336e3c0987d087cee063ad11e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c66a416b7abb202a34e6ef753f6723"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msr__rapl_8c.html#a66c66a416b7abb202a34e6ef753f6723">read_rapl_data</a> (void)</td></tr>
<tr class="memdesc:a66c66a416b7abb202a34e6ef753f6723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read all available RAPL data for a given socket.  <a href="#a66c66a416b7abb202a34e6ef753f6723"></a><br/></td></tr>
<tr class="separator:a66c66a416b7abb202a34e6ef753f6723"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa25a1336e3c0987d087cee063ad11e09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delta_rapl_data </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check how much the RAPL data has changed overtime to derive time-based values, such as power. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="ad7d2a40d68e49802b92b284c4b67e8a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dump_rapl_data </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>writedest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print out a specified RAPL data item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">writedest</td><td>File stream where output will be written to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a730ab2ba9f1f11a62e1bd689c562cb85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dump_rapl_data_terse </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>writedest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print abbreviated RAPL data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">writedest</td><td>File stream where output will be written to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="ac2149f5b42a9bacd4e846cf50b6968d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dump_rapl_data_terse_label </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>writedest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the label for the abbreviated RAPL data print out. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">writedest</td><td>File stream where output will be written to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a8b0c3e5ad4c0f888ae5db4c30c5b2092"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dump_rapl_limit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>writedest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print out RAPL power limit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">L</td><td>RAPL power limit for a given domain.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">writedest</td><td>File stream where output will be written to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ade923f6b707969f73a25d456724c4c66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dump_rapl_power_info </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>writedest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print out only RAPL power data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">writedest</td><td>File stream where output will be written to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="aa8b6d075f97b80427547782b69014e87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dump_rapl_power_unit </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>writedest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print out RAPL power units (power, energy, time). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">writedest</td><td>File stream where output will be written to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="ae811af0a09755e18a5e25a5e07b11cb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_dram_rapl_limit </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get RAPL power limit for the DRAM domain. </p>
<p>If a pointer is null, do nothing. If the bit vector is nonzero, translate the bit vector to watts and seconds. If the bit vector is zero, read the msr value into the bit vector and translate into watts and seconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Identifier of socket to read</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">limit</td><td>Data for DRAM domain RAPL power limit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a5f75af849c51cbaaec7a6f554b4b95b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_pkg_rapl_limit </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get RAPL power limit for the package domain. </p>
<p>If a pointer is null, do nothing. If the bit vector is nonzero, translate the bit vector to watts and seconds. If the bit vector is zero, read the msr value into the bit vector and translate into watts and seconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Identifier of socket to read</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">limit1</td><td>Data for package domain RAPL power limit 1 (lower).</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">limit2</td><td>Data for package domain RAPL power limit 2 (upper).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a076ac72b5de8b9bae9672925e8a0be9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_pp_rapl_limit </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get RAPL power limit for the power plane domains. </p>
<p>If a pointer is null, do nothing. If the bit vector is nonzero, translate the bit vector to watts and seconds. If the bit vector is zero, read the msr value into the bit vector and translate into watts and seconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Identifier of socket to read</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">limit0</td><td>Data for PP0 domain RAPL power limit.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">limit1</td><td>Data for PP1 domain RAPL power limit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a75a002151a8d7e6161bb41c56b3eb99a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_pp_rapl_policies </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>pp0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>pp1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get RAPL policies for the power plane domains. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Unique socket/package identifier.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pp0</td><td>Raw 64-bit value stored in MSR_PP0_POLICY.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pp1</td><td>Raw 64-bit value stored in MSR_PP1_POLICY.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="ac1b9e4dea588a31d9d45328280ccd3a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_rapl_power_info </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__power__info.html">rapl_power_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get power info data for all RAPL power domains. </p>
<p>If a pointer is null, do nothing. If the bit vector is nonzero, translate the bit vector to watts and seconds. If the bit vector is zero, read the msr value into the bit vector and translate into watts and seconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Unique socket/package identifier.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">info</td><td>Data for domain-specific power range info for RAPL usage.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a015c7e6862b679545c2de6f6c130dc20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_rapl_power_unit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrapl__units.html">rapl_units</a> *&#160;</td>
          <td class="paramname"><em>ru</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get units for RAPL power data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ru</td><td>Data for RAPL power units. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7b783164540feb4a332af617bc8ea8d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int poll_rapl_data </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the current RAPL data and calculate the deltas from the previous call to this function. </p>
<p>If this function has not been called at least once, then the data will be initialized to zeros. NOTE: This is now what you use instead of <a class="el" href="msr__rapl_8c.html#a66c66a416b7abb202a34e6ef753f6723" title="Read all available RAPL data for a given socket.">read_rapl_data()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="ac2f054c4f99521150fd2d53e8b1b108b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_available_rapl </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print available RAPL registers based on platform-dependent flags. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="ab4cf04e65243fe0ec3dc1f9b761bbd3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rapl_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrapl__data.html">rapl_data</a> **&#160;</td>
          <td class="paramname"><em>rapl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t **&#160;</td>
          <td class="paramname"><em>rapl_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize storage for Running Average Power Limit (RAPL) data and flags. </p>
<p>Be sure to put this function before any other RAPL functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">rapl</td><td>Pointer to storage for energy, time, and power data measurements from a given RAPL power domain.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rapl_flags</td><td>Pointer to storage for flags indicating available on registers on platform.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of locked registers, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a63c0eae91c8af418140de6edfc821fd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rapl_storage </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrapl__data.html">rapl_data</a> **&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t **&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the RAPL data and flags on the heap. </p>
<p>This data will be used by nearly all other RAPL APIs. A user can retrieve only RAPL data or only RAPL flags by passing a NULL argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Pointer to measurements of energy, time, and power data from a given RAPL power domain.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">flags</td><td>Pointer to RAPL flags indicating available registers on a given platform.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if setflags() fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a66c66a416b7abb202a34e6ef753f6723"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_rapl_data </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read all available RAPL data for a given socket. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
<a class="anchor" id="aa34e79919aa8a8adb3e491d9677b7a5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_dram_rapl_limit </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the steps necessary to set the user-supplied DRAM limit. </p>
<p>If a pointer is null, do nothing. If the bit vector is nonzero, translate the bit vector to watts and seconds and write the bit vector to the msr. If the bit vector is zero, translate the watts and seconds to the appropriate bit vector and write the bit vector to the msr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Unique socket/package identifier.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">limit</td><td>RAPL power limit data for DRAM power domain.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails, if calc_std_rapl_limit() fails, or if DRAM RAPL domain power limit is not supported on the platform. </dd></dl>

</div>
</div>
<a class="anchor" id="a66c1b657d9ba392505b6773037653583"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_pkg_rapl_limit </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the steps necessary to set the user-supplied package-level power limit(s). </p>
<p>If a pointer is null, do nothing. If the bit vector is nonzero, translate the bit vector to watts and seconds and write the bit vector to the msr. If the bit vector is zero, translate the watts and seconds to the appropriate bit vector and write the bit vector to the msr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Unique socket/package identifier.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">limit1</td><td>Data for lower power limit 1.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">limit2</td><td>Data for upper power limit 2.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails or if package RAPL domain power limit is not supported on the platform. </dd></dl>

</div>
</div>
<a class="anchor" id="ae7b715562182e712ffe9a7abd3f84350"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_pp_rapl_limit </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrapl__limit.html">rapl_limit</a> *&#160;</td>
          <td class="paramname"><em>limit1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the steps necessary to set the user-supplied power plane limit. </p>
<p>If a pointer is null, do nothing. If the bit vector is nonzero, translate the bit vector to watts and seconds and write the bit vector to the msr. If the bit vector is zero, translate the watts and seconds to the appropriate bit vector and write the bit vector to the msr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Unique socket/package identifier.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">limit0</td><td>Data for PP0 power limit.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">limit1</td><td>Data for PP1 power limit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> or calc_std_rapl_limit() fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a69cb57b1b9bc69326f586337193088b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_pp_rapl_policies </td>
          <td>(</td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>pp0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>pp1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the steps necessary to set the user-supplied power plane policy. </p>
<p>If a pointer is null, do nothing. If the bit vector is nonzero, translate the bit vector to watts and seconds and write the bit vector to the msr. If the bit vector is zero, translate the watts and seconds to the appropriate bit vector and write the bit vector to the msr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Unique socket/package identifier.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pp0</td><td>Raw 64-bit value specifying desired policy for PP0.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pp1</td><td>Raw 64-bit value specifying desired policy for PP1.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, else -1 if <a class="el" href="msr__rapl_8c.html#a63c0eae91c8af418140de6edfc821fd8" title="Store the RAPL data and flags on the heap.">rapl_storage()</a> fails. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
