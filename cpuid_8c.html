<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libmsr: src/cpuid.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmsr
   &#160;<span id="projectnumber">0.2.1</span>
   </div>
   <div id="projectbrief">A friendlier interface to accessing MSRs on Intel platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cpuid.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;sys/sysinfo.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="cpuid_8h_source.html">cpuid.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="libmsr__error_8h_source.html">libmsr_error.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for cpuid.c:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8c__incl.png" border="0" usemap="#src_2cpuid_8c" alt=""/></div>
<map name="src_2cpuid_8c" id="src_2cpuid_8c">
<area shape="rect" id="node13" href="cpuid_8h.html" title="cpuid.h" alt="" coords="129,83,193,112"/><area shape="rect" id="node18" href="libmsr__error_8h.html" title="libmsr_error.h" alt="" coords="479,83,580,112"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1e0710abf3b29b1c52a9f47f5418af3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a1e0710abf3b29b1c52a9f47f5418af3d">cpuid</a> (uint64_t leaf, uint64_t *rax, uint64_t *rbx, uint64_t *rcx, uint64_t *rdx)</td></tr>
<tr class="memdesc:a1e0710abf3b29b1c52a9f47f5418af3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get processor identification and feature information to the 32-bit EAX, EBX, ECX, and EDX registers.  <a href="#a1e0710abf3b29b1c52a9f47f5418af3d"></a><br/></td></tr>
<tr class="separator:a1e0710abf3b29b1c52a9f47f5418af3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea50864aa718a5a8bfc390a304711445"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#aea50864aa718a5a8bfc390a304711445">cpuid_detect_core_conf</a> (uint64_t *coresPerSocket, uint64_t *hyperThreads, uint64_t *sockets, int *HTenabled)</td></tr>
<tr class="memdesc:aea50864aa718a5a8bfc390a304711445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine platform configuration (i.e. number of sockets, number of cores/socket, number of logical processors, etc.).  <a href="#aea50864aa718a5a8bfc390a304711445"></a><br/></td></tr>
<tr class="separator:aea50864aa718a5a8bfc390a304711445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57628688f4ae2616ef196b97591e231"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#aa57628688f4ae2616ef196b97591e231">cpuid_get_model</a> (uint64_t *model)</td></tr>
<tr class="memdesc:aa57628688f4ae2616ef196b97591e231"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the CPU model number.  <a href="#aa57628688f4ae2616ef196b97591e231"></a><br/></td></tr>
<tr class="separator:aa57628688f4ae2616ef196b97591e231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e7315eb2402bfda47ae11d2e8a563e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#ad0e7315eb2402bfda47ae11d2e8a563e">cpuidInput_rax_rcx</a> (uint64_t leafa, uint64_t leafc, uint64_t *rax, uint64_t *rbx, uint64_t *rcx, uint64_t *rdx)</td></tr>
<tr class="memdesc:ad0e7315eb2402bfda47ae11d2e8a563e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max number of physical processor cores on the platform.  <a href="#ad0e7315eb2402bfda47ae11d2e8a563e"></a><br/></td></tr>
<tr class="separator:ad0e7315eb2402bfda47ae11d2e8a563e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2fe175eaba95e7b5b1efe671a0cac4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a2f2fe175eaba95e7b5b1efe671a0cac4">cpuid_mperf_and_aperf_avail</a> (void)</td></tr>
<tr class="memdesc:a2f2fe175eaba95e7b5b1efe671a0cac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check availability of p-state hardware coordination feedback, indicating presence of IA32_APERF and IA32_MPERF.  <a href="#a2f2fe175eaba95e7b5b1efe671a0cac4"></a><br/></td></tr>
<tr class="separator:a2f2fe175eaba95e7b5b1efe671a0cac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac507751a6001668812400d123747f9f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#ac507751a6001668812400d123747f9f6">cpuid_timestamp_counter_avail</a> (void)</td></tr>
<tr class="memdesc:ac507751a6001668812400d123747f9f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check availability of the time-stamp counter.  <a href="#ac507751a6001668812400d123747f9f6"></a><br/></td></tr>
<tr class="separator:ac507751a6001668812400d123747f9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac01643d283d9715b5d4c2f00782afa19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#ac01643d283d9715b5d4c2f00782afa19">cpuid_num_pmc</a> (void)</td></tr>
<tr class="memdesc:ac01643d283d9715b5d4c2f00782afa19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which performance monitoring counters (PMCs) are available.  <a href="#ac01643d283d9715b5d4c2f00782afa19"></a><br/></td></tr>
<tr class="separator:ac01643d283d9715b5d4c2f00782afa19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d56c485981f27d0a8b6cde57b42389"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a52d56c485981f27d0a8b6cde57b42389">cpuid_num_perfevtsel</a> (void)</td></tr>
<tr class="memdesc:a52d56c485981f27d0a8b6cde57b42389"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which performance event select MSRs (PerfEvtSelX) are available.  <a href="#a52d56c485981f27d0a8b6cde57b42389"></a><br/></td></tr>
<tr class="separator:a52d56c485981f27d0a8b6cde57b42389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7f643689ce223cece266e8493d7706"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#ace7f643689ce223cece266e8493d7706">cpuid_perf_global_ctrl_EN_PMC</a> (void)</td></tr>
<tr class="memdesc:ace7f643689ce223cece266e8493d7706"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if performance monitoring capabilities are available.  <a href="#ace7f643689ce223cece266e8493d7706"></a><br/></td></tr>
<tr class="separator:ace7f643689ce223cece266e8493d7706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6115b22262cadbe31717c2a9a6cdb3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a3a6115b22262cadbe31717c2a9a6cdb3">cpuid_perf_global_ctrl_EN_FIXED_CTRnum</a> (void)</td></tr>
<tr class="memdesc:a3a6115b22262cadbe31717c2a9a6cdb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check availability of the three fixed-function performance counters: Instr_Retired.Any, CPU_CLK_Unhalted.Core, and CPU_CLK_Unhalted.Ref.  <a href="#a3a6115b22262cadbe31717c2a9a6cdb3"></a><br/></td></tr>
<tr class="separator:a3a6115b22262cadbe31717c2a9a6cdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c23f2071b0e29f388fe904dfde87f7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#ab8c23f2071b0e29f388fe904dfde87f7">cpuid_misc_enable_TurboModeDisable</a> (void)</td></tr>
<tr class="memdesc:ab8c23f2071b0e29f388fe904dfde87f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Turbo mode is disabled.  <a href="#ab8c23f2071b0e29f388fe904dfde87f7"></a><br/></td></tr>
<tr class="separator:ab8c23f2071b0e29f388fe904dfde87f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d92b941b8176aa6b589445c5e9ad25"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a03d92b941b8176aa6b589445c5e9ad25">cpuid_misc_enable_xTPRMessageDisable</a> (void)</td></tr>
<tr class="memdesc:a03d92b941b8176aa6b589445c5e9ad25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if xTPR messages are disabled.  <a href="#a03d92b941b8176aa6b589445c5e9ad25"></a><br/></td></tr>
<tr class="separator:a03d92b941b8176aa6b589445c5e9ad25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb3d47a294f03eba8bce160939f5281a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#acb3d47a294f03eba8bce160939f5281a">cpuid_misc_enable_XDBitDisable</a> (void)</td></tr>
<tr class="separator:acb3d47a294f03eba8bce160939f5281a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a469de689a7d91e0880aef4c77a83972f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a469de689a7d91e0880aef4c77a83972f">cpuid_enable_ExtendedClockMod</a> (void)</td></tr>
<tr class="memdesc:a469de689a7d91e0880aef4c77a83972f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if extended on-demand clock modulation is enabled.  <a href="#a469de689a7d91e0880aef4c77a83972f"></a><br/></td></tr>
<tr class="separator:a469de689a7d91e0880aef4c77a83972f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d97e58eeb2b0d01a0cd3600381e1fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a39d97e58eeb2b0d01a0cd3600381e1fc">cpuid_therm_status_enable_ThermalThresholds</a> (void)</td></tr>
<tr class="memdesc:a39d97e58eeb2b0d01a0cd3600381e1fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Thermal Threshold #1 status and log and Thermal Threshold #2 status and log are enabled in IA32_THERM_STATUS.  <a href="#a39d97e58eeb2b0d01a0cd3600381e1fc"></a><br/></td></tr>
<tr class="separator:a39d97e58eeb2b0d01a0cd3600381e1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e0c9e2becba29854e9193f15fe2855e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a4e0c9e2becba29854e9193f15fe2855e">cpuid_therm_stat_enable_PowerLimitNotify</a> (void)</td></tr>
<tr class="separator:a4e0c9e2becba29854e9193f15fe2855e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71bc86886bad313f22c2169632a384b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#ab71bc86886bad313f22c2169632a384b">cpuid_therm_status_enable_DigitalReadout</a> (void)</td></tr>
<tr class="memdesc:ab71bc86886bad313f22c2169632a384b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if digital readout is enabled in IA32_THERM_STATUS.  <a href="#ab71bc86886bad313f22c2169632a384b"></a><br/></td></tr>
<tr class="separator:ab71bc86886bad313f22c2169632a384b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1d3344b61826e7d6d410958bd1ff23"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#abd1d3344b61826e7d6d410958bd1ff23">cpuid_therm_interrupt_enable_PowerLimitNotify</a> (void)</td></tr>
<tr class="memdesc:abd1d3344b61826e7d6d410958bd1ff23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if power limit notification enable is enabled in IA32_THERM_INTERRUPT.  <a href="#abd1d3344b61826e7d6d410958bd1ff23"></a><br/></td></tr>
<tr class="separator:abd1d3344b61826e7d6d410958bd1ff23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b9d9fc8f683cc91395c953807df7649"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a8b9d9fc8f683cc91395c953807df7649">cpuid_pkg_therm_enable_status_and_interrupt</a> (void)</td></tr>
<tr class="memdesc:a8b9d9fc8f683cc91395c953807df7649"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if IA32_PACKAGE_THERM_STATUS and IA32_PACKAGE_THERM_INTERRUPT are enabled on the platform.  <a href="#a8b9d9fc8f683cc91395c953807df7649"></a><br/></td></tr>
<tr class="separator:a8b9d9fc8f683cc91395c953807df7649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091f7558ee0df38bd12a5cba40b35086"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a091f7558ee0df38bd12a5cba40b35086">cpuid_MaxLeaf</a> (void)</td></tr>
<tr class="memdesc:a091f7558ee0df38bd12a5cba40b35086"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get highest EAX value (i.e., leaf) supported by the platform.  <a href="#a091f7558ee0df38bd12a5cba40b35086"></a><br/></td></tr>
<tr class="separator:a091f7558ee0df38bd12a5cba40b35086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec34c4b97b6a98b709aae42fbb7fbf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#adec34c4b97b6a98b709aae42fbb7fbf9">cpuid_printVendorID</a> (void)</td></tr>
<tr class="memdesc:adec34c4b97b6a98b709aae42fbb7fbf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print platform vendor ID.  <a href="#adec34c4b97b6a98b709aae42fbb7fbf9"></a><br/></td></tr>
<tr class="separator:adec34c4b97b6a98b709aae42fbb7fbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42173eea16c5fc4753e35bdb678cfcfc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a42173eea16c5fc4753e35bdb678cfcfc">cpuid_pkg_MaxPhysicalProcessorCores</a> (void)</td></tr>
<tr class="memdesc:a42173eea16c5fc4753e35bdb678cfcfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max number of addressable IDs attributable to processor cores in the physical package.  <a href="#a42173eea16c5fc4753e35bdb678cfcfc"></a><br/></td></tr>
<tr class="separator:a42173eea16c5fc4753e35bdb678cfcfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85acb9c8c1fa304e10b0e3ca57d148a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a85acb9c8c1fa304e10b0e3ca57d148a8">cpuid_pkg_MaxLogicalProcessors</a> (void)</td></tr>
<tr class="memdesc:a85acb9c8c1fa304e10b0e3ca57d148a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max number of addressable IDs for logical processors in a physical package.  <a href="#a85acb9c8c1fa304e10b0e3ca57d148a8"></a><br/></td></tr>
<tr class="separator:a85acb9c8c1fa304e10b0e3ca57d148a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6302318a720385c9c08efc1c7d306c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a2d6302318a720385c9c08efc1c7d306c">cpuid_num_fixed_counters</a> (void)</td></tr>
<tr class="memdesc:a2d6302318a720385c9c08efc1c7d306c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of fixed-function performance counters on the platform.  <a href="#a2d6302318a720385c9c08efc1c7d306c"></a><br/></td></tr>
<tr class="separator:a2d6302318a720385c9c08efc1c7d306c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061d4b804f3a48cf5dfe6e3576c773ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8c.html#a061d4b804f3a48cf5dfe6e3576c773ff">cpuid_width_fixed_counters</a> (void)</td></tr>
<tr class="memdesc:a061d4b804f3a48cf5dfe6e3576c773ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get bit width of fixed-function performance counters on the platform.  <a href="#a061d4b804f3a48cf5dfe6e3576c773ff"></a><br/></td></tr>
<tr class="separator:a061d4b804f3a48cf5dfe6e3576c773ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1e0710abf3b29b1c52a9f47f5418af3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpuid </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>leaf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>rax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>rbx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>rcx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>rdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get processor identification and feature information to the 32-bit EAX, EBX, ECX, and EDX registers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">leaf</td><td>Level of basic processor information to be returned.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rax</td><td>EAX register contents.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rbx</td><td>EBX register contents.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rcx</td><td>ECX register contents.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rdx</td><td>EDX register contents. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aea50864aa718a5a8bfc390a304711445"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpuid_detect_core_conf </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>coresPerSocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>hyperThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>sockets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>HTenabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine platform configuration (i.e. number of sockets, number of cores/socket, number of logical processors, etc.). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">coresPerSocket</td><td>Number of cores per socket (including hyperthreads, if enabled).</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hyperThreads</td><td>Number of threads including hyperthreads.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sockets</td><td>Number of sockets.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">HTenabled</td><td>Hyperthreading enabled/disabled. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a469de689a7d91e0880aef4c77a83972f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_enable_ExtendedClockMod </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if extended on-demand clock modulation is enabled. </p>
<dl class="section return"><dt>Returns</dt><dd>True if extended on-demand clock modulation is enabled, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="aa57628688f4ae2616ef196b97591e231"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpuid_get_model </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the CPU model number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">model</td><td>CPU model number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a091f7558ee0df38bd12a5cba40b35086"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t cpuid_MaxLeaf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get highest EAX value (i.e., leaf) supported by the platform. </p>
<dl class="section return"><dt>Returns</dt><dd>Highest EAX leaf supported by the platform. </dd></dl>

</div>
</div>
<a class="anchor" id="ab8c23f2071b0e29f388fe904dfde87f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_misc_enable_TurboModeDisable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if Turbo mode is disabled. </p>
<dl class="section return"><dt>Returns</dt><dd>True if Turbo mode is disabled, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="acb3d47a294f03eba8bce160939f5281a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_misc_enable_XDBitDisable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a03d92b941b8176aa6b589445c5e9ad25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_misc_enable_xTPRMessageDisable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if xTPR messages are disabled. </p>
<dl class="section return"><dt>Returns</dt><dd>True if xTPR messages are disabled, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a2f2fe175eaba95e7b5b1efe671a0cac4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_mperf_and_aperf_avail </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check availability of p-state hardware coordination feedback, indicating presence of IA32_APERF and IA32_MPERF. </p>
<dl class="section return"><dt>Returns</dt><dd>True if IA32_APERF and IA32_MPERF are available, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a2d6302318a720385c9c08efc1c7d306c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpuid_num_fixed_counters </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get number of fixed-function performance counters on the platform. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of available fixed-function performance counters. </dd></dl>

</div>
</div>
<a class="anchor" id="a52d56c485981f27d0a8b6cde57b42389"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpuid_num_perfevtsel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which performance event select MSRs (PerfEvtSelX) are available. </p>
<p>If greater than 3, then up to PerfEvtSel3 is usable. If greater than 2, then up to PerfEvtSel2 is usable. If greater than 1, then up to PerfEvtSel1 is usable. If greater than 0, then only PerfEvtSel0 is usable. If equal to 0, then no PerfEvtSel MSRs are usable.</p>
<dl class="section return"><dt>Returns</dt><dd>Number of PerfEvtSel MSRs are available. </dd></dl>

</div>
</div>
<a class="anchor" id="ac01643d283d9715b5d4c2f00782afa19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpuid_num_pmc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which performance monitoring counters (PMCs) are available. </p>
<p>If greater than 3, then up to PMC3 is usable. If greater than 2, then up to PMC2 is usable. If greater than 1, then up to PMC1 is usable. If greater than 0, then only PMC0 is usable. If equal to 0, then no PMCs are usable.</p>
<dl class="section return"><dt>Returns</dt><dd>Number of PMCs are available. </dd></dl>

</div>
</div>
<a class="anchor" id="a3a6115b22262cadbe31717c2a9a6cdb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_perf_global_ctrl_EN_FIXED_CTRnum </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check availability of the three fixed-function performance counters: Instr_Retired.Any, CPU_CLK_Unhalted.Core, and CPU_CLK_Unhalted.Ref. </p>
<dl class="section return"><dt>Returns</dt><dd>True if IA32_FIXED_CTR0, IA32_FIXED_CTR1, and IA32_FIXED_CTR2 exist, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="ace7f643689ce223cece266e8493d7706"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_perf_global_ctrl_EN_PMC </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if performance monitoring capabilities are available. </p>
<dl class="section return"><dt>Returns</dt><dd>True if architectural performance monitoring capabilities are supported, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a85acb9c8c1fa304e10b0e3ca57d148a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpuid_pkg_MaxLogicalProcessors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get max number of addressable IDs for logical processors in a physical package. </p>
<dl class="section return"><dt>Returns</dt><dd>Max number of logical processors in the package. </dd></dl>

</div>
</div>
<a class="anchor" id="a42173eea16c5fc4753e35bdb678cfcfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpuid_pkg_MaxPhysicalProcessorCores </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get max number of addressable IDs attributable to processor cores in the physical package. </p>
<dl class="section return"><dt>Returns</dt><dd>Max number of processor cores in the package. </dd></dl>

</div>
</div>
<a class="anchor" id="a8b9d9fc8f683cc91395c953807df7649"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_pkg_therm_enable_status_and_interrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if IA32_PACKAGE_THERM_STATUS and IA32_PACKAGE_THERM_INTERRUPT are enabled on the platform. </p>
<dl class="section return"><dt>Returns</dt><dd>True if package-level thermal status and interrupt register are enabled, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="adec34c4b97b6a98b709aae42fbb7fbf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpuid_printVendorID </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print platform vendor ID. </p>

</div>
</div>
<a class="anchor" id="abd1d3344b61826e7d6d410958bd1ff23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_therm_interrupt_enable_PowerLimitNotify </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if power limit notification enable is enabled in IA32_THERM_INTERRUPT. </p>
<dl class="section return"><dt>Returns</dt><dd>True if power limitation status and log are enabled, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a4e0c9e2becba29854e9193f15fe2855e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_therm_stat_enable_PowerLimitNotify </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab71bc86886bad313f22c2169632a384b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_therm_status_enable_DigitalReadout </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if digital readout is enabled in IA32_THERM_STATUS. </p>
<dl class="section return"><dt>Returns</dt><dd>True if digital readout is enabled, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a39d97e58eeb2b0d01a0cd3600381e1fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_therm_status_enable_ThermalThresholds </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if Thermal Threshold #1 status and log and Thermal Threshold #2 status and log are enabled in IA32_THERM_STATUS. </p>
<dl class="section return"><dt>Returns</dt><dd>True if TT#1 and TT#2 status and log are enabled, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="ac507751a6001668812400d123747f9f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cpuid_timestamp_counter_avail </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check availability of the time-stamp counter. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the time-stamp counter is available, else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a061d4b804f3a48cf5dfe6e3576c773ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpuid_width_fixed_counters </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get bit width of fixed-function performance counters on the platform. </p>
<dl class="section return"><dt>Returns</dt><dd>Bit width of fixed-function performance counters. </dd></dl>

</div>
</div>
<a class="anchor" id="ad0e7315eb2402bfda47ae11d2e8a563e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpuidInput_rax_rcx </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>leafa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>leafc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>rax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>rbx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>rcx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>rdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get max number of physical processor cores on the platform. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">leafa</td><td>Initial value for EAX.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">leafc</td><td>Initial value for ECX.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rax</td><td>EAX register contents.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rbx</td><td>EBX register contents.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rcx</td><td>ECX register contents.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rdx</td><td>EDX register contents. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
